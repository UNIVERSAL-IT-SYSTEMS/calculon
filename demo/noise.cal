/* Produces an RGB colour vector (each component scaled from 0..1) for a
 * particular location given by (x, y).
 *
 * perlin(V) produces Perlin noise for a particular vector location.
 */

let positive(x) = if x > 0 then x else 0;
let max(x) = if x > 1 then 1 else x;
let mp(x) = max(positive(x));
let r = perlin([x*4, y*4, 0]);
let g = perlin([x*4.1, y*3.9, 0]);
let b = perlin([x*3.9, y*4.1, 0]);
[mp(r), mp(g), mp(b)]
